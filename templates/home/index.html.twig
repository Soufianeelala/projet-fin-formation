{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block main %}

    <section class="hero-banner"></section>

   <section class="slogan-accueil">
  <h2 class="slogan-accueil__title">"MYAUTO ‚Äî Une route, une passion, une communaut√© !"</h2>
  <p class="slogan-accueil__text">
    Bienvenue sur <strong>MYAUTO</strong>, votre plateforme d√©di√©e aux voitures de caract√®re.
    D√©couvrez des v√©hicules uniques, partagez vos coups de c≈ìur et rejoignez une communaut√© de passionn√©s d'automobile.
  </p>

  <a href="{{ path('app_car_new') }}" class="slogan-accueil__cta">üöó Ajouter ta voiture & prendre la route avec nous !</a>
</section>

<section class="dernieres-voitures">
  <h2 class="dernieres-voitures__title">
    <i class="fas fa-car"></i>
    Voitures r√©cemment ajout√©es
  </h2>

<div class="dernieres-voitures__grid">
  {% for car in cars|slice(0, 4) %}
    <div class="car-card">
      <div class="car-card__image">
        {% if car.images|length > 0 %}
          <img src="{{ asset(car.images|first.filePath) }}" alt="{{ car.marque }} {{ car.modele }}">
        {% else %}
          <div class="car-card__noimage">Pas d'image</div>
        {% endif %}
      </div>

      <div class="car-card__info">
        <h3 class="car-card__title">{{ car.marque }} {{ car.modele }}</h3>
        <p class="car-card__year">Ann√©e : {{ car.annee }}</p>

        <!-- Ajouts corrig√©s -->
        <p class="car-card__category">Cat√©gorie : {{ car.categorie ? car.categorie.nom : '‚Äî' }}</p>
        <p class="car-card__engine">
          Motorisations :
          {{ car.motorisationTypes|map(t => t.nom)|join(', ') ?: '‚Äî' }}
        </p>
        <p class="car-card__owner">Propri√©taire : {{ car.user.email }}</p>
        <p class="car-card__date">Ajout√©e le : {{ car.createdAt|date('d/m/Y') }}</p>

        <a href="{{ path('app_car_show', {id: car.id}) }}" class="btn btn--details" title="Voir les d√©tails">
          <i class="fas fa-eye"></i> D√©tails
        </a>
      </div>
    </div>
  {% endfor %}
</div>



  <div class="dernieres-voitures__more">
    <a href="{{ path('app_car_index') }}" class="btn btn--see-all">
      Voir toutes les voitures
    </a>
  </div>
</section>


{% endblock %}
